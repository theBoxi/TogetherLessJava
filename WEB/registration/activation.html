<tgl:include file="../include/header.html"/>
	<script type="text/javascript">
		function makeCall(){
			$.ajax({
			    url: 'http://localhost:8080/rest/user/activate',
			    type: 'get',
			    data: 'activationCode='+$.getURLParam("activationCode"),
			    success: function(data) { 
			    	$("#activationDone").attr("style", "display: block;");
			    },
			    error: function(data) { 
			    	if(data.status == 461){
			    		$("#alreadyActivated").attr("style", "display: block;");
			    	}
			    	$("#activationFailed").attr("style", "display: block;");
			    }
			});
		}
		
		$(document).ready(function() {
			if($.getURLParam("activationCode") == null){
				$("#noActivationCode").attr("style", "display: block;");
			} else{
				makeCall();
			}
		});
	</script>
	
	<div id="activationDone" style="display: none;">
		<h1><img src="../images/logo.png" border="0"/>&nbsp;Activierung abgeschlossen</h1>
		<p>
			Sie haben Ihren Account erfolgreich activiert.
			<br/>
			Sie können sich nun <a href="../login.html">einloggen</a>
		</p>
	</div>
	
	<div id="activationFailed" style="display: none;">
		<h1><img src="../images/logo.png" border="0"/>&nbsp;Activierung fehlgeschlagen!</h1>
		<p>bla bla bla</p>	
	</div>
	
	<div id="noActivationCode" style="display: none;">
		<h1><img src="../images/logo.png" border="0"/>&nbsp;Keine activierung möglich!</h1>
		<p>Ohne Aktivierungscode ist es nicht möglich TogetherLess zu benutzen. Loggen Sie sich ein, und aktivieren Sie ihren Account erneut.</p>
		<p>zum <a href="../login.html">login</a>.</p>
	</div>
	
	<div id="alreadyActivated" style="display: none;">
		<h1><img src="../images/logo.png" border="0"/>&nbsp;Account ist bereits aktiviert</h1>
		<p>Ihr Account ist bereits aktiviert und kann benutzt werden.</p>
		<p>Bitte <a href="../login.html">loggen</a> Sie sich ein.</p>
	</div>
<tgl:include file="../include/footer.html"/>