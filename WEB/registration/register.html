<tgl:include file="../include/header.html"/>
<script type="text/javascript">
	$(document).ready(function(){
		setTitle("Registrierung");
	});

	function makeCall(){
		var api = new RegisterAPI();
		var retValue = api.register(
				$('#firstName').attr("value"),
				$('#lastName').attr("value"),
				$('#userName').attr("value"),
				$('#password').attr("value"),
				$('#password2').attr("value"),
				$('#email').attr("value"));
		if(retValue == true){
			document.location="registerDone.html";
		} else{
			for(var i = 0; i < retValue.length; i++){
				if(retValue[i].value == "true"){
					$("[name="+retValue[i].key+"]").attr("class", "");
				} else{
					$("[name="+retValue[i].key+"]").attr("class", "errorInput");
				}
			}
		}
	}
</script>
<form id="registerForm">
	<input name="firstName"		id="firstName"	type="text" 	placeholder="* Vorname"/>
	<input name="lastName" 		id="lastName"	type="text" 	placeholder="* Nachname"/>
	<input name="userName" 		id="userName"	type="text" 	placeholder="* UserName"/>
	<input name="password" 		id="password"	type="password" placeholder="* Passwort"/>
	<input name="password2" 	id="password2"	type="password" placeholder="* Passwort-wiederholung"/>
	<input name="email" 		id="email"		type="email" 	placeholder="* your@email"/>
	<input 						type="button" 	value="registrieren" onclick="makeCall()"/>
</form>
<tgl:include file="../include/footer.html"/>